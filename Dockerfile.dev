FROM node:alpine

ARG VITE_GOOGLE_MAPS_API_KEY
ARG VITE_BACKEND_HOSTNAME

ENV VITE_GOOGLE_MAPS_API_KEY=$VITE_GOOGLE_MAPS_API_KEY
ENV VITE_BACKEND_HOSTNAME=$VITE_BACKEND_HOSTNAME

WORKDIR /usr/src/app

COPY package.json .

RUN npm install

COPY . .

RUN npm run build

EXPOSE 8080

CMD ["npm", "run", "preview"]

